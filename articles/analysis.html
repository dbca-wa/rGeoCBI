<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data analysis • rOzCBI</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data analysis">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-155735563-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-155735563-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rOzCBI</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/forms.html">Digital Data Capture</a>
    </li>
    <li>
      <a href="../articles/analysis.html">Data analysis</a>
    </li>
    <li>
      <a href="../articles/dev.html">Development</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://twitter.com/fistful_of_bass">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dbca-wa/rOzCBI">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="analysis_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="analysis_files/jquery-1.12.4/jquery.min.js"></script><link href="analysis_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="analysis_files/leaflet-1.3.1/leaflet.js"></script><link href="analysis_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="analysis_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="analysis_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="analysis_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="analysis_files/leaflet-binding-2.0.3/leaflet.js"></script><script src="analysis_files/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="analysis_files/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script><link href="analysis_files/leaflet-awesomemarkers-2.0.3/leaflet.awesome-markers.css" rel="stylesheet">
<script src="analysis_files/leaflet-awesomemarkers-2.0.3/leaflet.awesome-markers.min.js"></script><link href="analysis_files/bootstrap-3.3.7/bootstrap.min.css" rel="stylesheet">
<script src="analysis_files/bootstrap-3.3.7/bootstrap.min.js"></script><link href="analysis_files/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet">
<link href="analysis_files/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet">
<script src="analysis_files/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script><script src="analysis_files/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script><script src="analysis_files/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script><script src="analysis_files/core-js-2.5.3/shim.min.js"></script><script src="analysis_files/react-16.12.0/react.min.js"></script><script src="analysis_files/react-16.12.0/react-dom.min.js"></script><script src="analysis_files/reactwidget-1.0.0/react-tools.js"></script><script src="analysis_files/reactable-binding-0.1.0/reactable.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Data analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dbca-wa/rOzCBI/blob/master/vignettes/analysis.Rmd"><code>vignettes/analysis.Rmd</code></a></small>
      <div class="hidden name"><code>analysis.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(rOzCBI)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ruODK)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(magrittr)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(leaflet)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(reactable)</a></code></pre></div>
<p>This vignette will provide a worked example of accessing and downloading the burn grading submissions, and calculating the GeoCBI from the raw data.</p>
<div id="request-an-odk-central-account" class="section level2">
<h2 class="hasAnchor">
<a href="#request-an-odk-central-account" class="anchor"></a>Request an ODK Central account</h2>
<p>Request an ODK Central account <a href="https://github.com/dbca-wa/rOzCBI/issues">here</a>. You will receive a registration email. Your username will be your email address, you can choose your own password. With those credentials, you have read access to ODK Central, the place where burn grading submissions are uploaded to.</p>
<p>This step is required only once for every data analyst.</p>
</div>
<div id="setup-ruodk" class="section level2">
<h2 class="hasAnchor">
<a href="#setup-ruodk" class="anchor"></a>Setup ruODK</h2>
<p>For details, refer to <a href="https://dbca-wa.github.io/ruODK/articles/setup.html">ruODK vignette “setup”</a>.</p>
<p>Set default credentials and settings to simplify work with <code>ruODK</code> later. Credentials live as environment variables in your <code>.Renviron</code> file. Changes to <code>.Renviron</code> require a restart of the R session.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">usethis<span class="op">::</span><span class="kw">edit_r_environ</span>()</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co"># Paste with your credentials</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">ODKC_URL=<span class="st">"https://odkcentral.dbca.wa.gov.au"</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">ODKC_UN=<span class="st">"YOUR_EMAIL"</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">ODKC_PW=<span class="st">"YOUR_PASSWORD"</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7">ODKC_PID=<span class="dv">27</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8">ODKC_FID=<span class="st">"build_Burn-Grading-0-1_1578487677"</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co"># Save .Renviron and restart your R session.</span></a></code></pre></div>
<p>Since we’ll only work with one form and have set the neccessary settings as defaults, <code>ruODK</code> will default to our form without any further ado.</p>
<p>If you need to navigate between forms, you can setup <code>ruODK</code> with the respective OData service URL:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># ODK Central's OData URL contains base URL, project ID, and form ID</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co"># ODK Central credentials can live in .Renviron, see vignette "setup"</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">ruODK<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ruODK/man/ru_setup.html">ru_setup</a></span>(</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  <span class="dt">svc =</span> <span class="kw"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="st">"https://odkcentral.dbca.wa.gov.au/v1/projects/27/"</span>,</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">               <span class="st">"forms/build_Burn-Grading-0-1_1578487677.svc"</span>),</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">  <span class="dt">un =</span> <span class="kw"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span>(<span class="st">"ODKC_UN"</span>),</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">  <span class="dt">pw =</span> <span class="kw"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span>(<span class="st">"ODKC_PW"</span>)</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">)</a></code></pre></div>
</div>
<div id="download-data" class="section level2">
<h2 class="hasAnchor">
<a href="#download-data" class="anchor"></a>Download data</h2>
<p>For an overview on accessing data from ODK Central, read the <a href="https://docs.opendatakit.org/central-submissions/#">ODK Central docs</a>.</p>
<p>For a background on accessing data from R, refer to <a href="https://dbca-wa.github.io/ruODK/articles/odata-api.html">ruODK vignette “odata-api”</a>.</p>
<p>In a pinch, we can always download a ZIP archive of all submissions and all photos from ODK Central.</p>
<p>Here, we’ll use <code>ruODK</code> to download submissions from ODK Central with <code>verbose</code> output.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">burngrading01 &lt;-<span class="st"> </span>ruODK<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/ruODK/man/odata_submission_get.html">odata_submission_get</a></span>(</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">  <span class="dt">verbose =</span> T, </a>
<a class="sourceLine" id="cb4-3" data-line-number="3">  <span class="dt">tz =</span> <span class="st">"Australia/Perth"</span>, </a>
<a class="sourceLine" id="cb4-4" data-line-number="4">  <span class="dt">local_dir =</span> fs<span class="op">::</span><span class="kw"><a href="http://fs.r-lib.org/reference/path.html">path</a></span>(<span class="st">"media"</span>), </a>
<a class="sourceLine" id="cb4-5" data-line-number="5">  <span class="dt">wkt=</span>T</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">)</a></code></pre></div>
</div>
<div id="calculate-geocbi" class="section level2">
<h2 class="hasAnchor">
<a href="#calculate-geocbi" class="anchor"></a>Calculate GeoCBI</h2>
<p>Task: Parse raw data into numeric scale values, apply GeoCBI formula.</p>
<p>Values are coded as <code>&lt;grade&gt;_&lt;url-safe-label&gt;</code>, where grade are numbers 0.0, 0.5, 1.0, 1.5 through to 3.0, and the labels are intelligible but url-safe factor levels. Fraction of coverages (fcov) also are prefixed with their grade, which ranges from 0.0 to 1.0 in increments of 0.25. Each grade is three digits (two decimals) followed by an underscore. <code><a href="../reference/extract_grading.html">extract_grading()</a></code> extracts the grade from values.</p>
<p>The function <code><a href="../reference/add_geocbi.html">add_geocbi()</a></code> is highly specific to the underlying form “Burn Grading 0.1”. It translates the form fields to the generic form <code><a href="../reference/calculate_geocbi.html">calculate_geocbi()</a></code>, which can be fed by data from any other compatible data source.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">bg_geocbi &lt;-<span class="st"> </span>burngrading01 <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/add_geocbi.html">add_geocbi</a></span>()</a></code></pre></div>
</div>
<div id="visualise" class="section level2">
<h2 class="hasAnchor">
<a href="#visualise" class="anchor"></a>Visualise</h2>
<p>The data shown here are test data (not real burn gradings) and come from the real form.</p>
<div id="map" class="section level3">
<h3 class="hasAnchor">
<a href="#map" class="anchor"></a>Map</h3>
<p>The helper function <code><a href="../reference/map_burngrading.html">map_burngrading()</a></code> provides a leaflet map with labels and popups. The source code of <code><a href="../reference/map_burngrading.html">map_burngrading()</a></code> can serve as a starting point for other customised maps.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">bg_geocbi <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/map_burngrading.html">map_burngrading</a></span>()</a></code></pre></div>
<div id="htmlwidget-80502b77cc1bb002468b" style="width:800px;height:600px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-80502b77cc1bb002468b">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery",null,"Aerial",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenStreetMap.Mapnik",null,"Place names",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addAwesomeMarkers","args":[[-32.03861295,-32.03785343],[115.78227732,115.7860983],{"icon":"home","markerColor":["orange","green"],"iconColor":"white","spin":false,"squareMarker":false,"iconRotate":0,"font":"monospace","text":[1.23,0.96],"prefix":"glyphicon"},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["<h3>Test Random<\/h3><h4>GeoCBI 1.23<\/h4>\nSurvey start 2020-01-12 07:31:30<\/br>\nReporter Burn Grading Data Collector<\/br>\nDevice 351848090572014<\/br>\n<div>Burn homogeneous throughout plot: no<\/div>\n\n<div id=\"carousel-photos\" class=\"carousel slide\" data-ride=\"carousel\">\n\n<!-- Indicators -->\n<ol class=\"carousel-indicators\">\n<li data-target=\"#carousel-photos\" data-slide-to=\"0\" class=\"active\"><\/li>\n<li data-target=\"#carousel-photos\" data-slide-to=\"1\"><\/li>\n<li data-target=\"#carousel-photos\" data-slide-to=\"2\"><\/li>\n<li data-target=\"#carousel-photos\" data-slide-to=\"3\"><\/li>\n<li data-target=\"#carousel-photos\" data-slide-to=\"4\"><\/li>\n<li data-target=\"#carousel-photos\" data-slide-to=\"5\"><\/li>\n<\/ol>\n\n<!-- Wrapper for slides -->\n<div class=\"carousel-inner\" role=\"listbox\">\n<div class=\"item active\">\n<img src=\"media/1578785576392.jpg\" alt=\"Plot overview\">\n<div class=\"carousel-caption\">Plot overview<\/div>\n<\/div>\n<div class=\"item\">\n<img src=\"media/1578785648115.jpg\" alt=\"Stratum 1\">\n<div class=\"carousel-caption\">Stratum 1<\/div>\n<\/div>\n<div class=\"item\">\n<img src=\"media/1578785727152.jpg\" alt=\"Stratum 2: Sprouts\">\n<div class=\"carousel-caption\">Stratum 2: Sprouts<\/div>\n<\/div>\n<div class=\"item\">\n<img src=\"media/1578785808711.jpg\" alt=\"Stratum 3: Test sp\">\n<div class=\"carousel-caption\">Stratum 3: Test sp<\/div>\n<\/div>\n<div class=\"item\">\n<img src=\"media/1578785863925.jpg\" alt=\"Stratum 4: Mulberry\">\n<div class=\"carousel-caption\">Stratum 4: Mulberry<\/div>\n<\/div>\n<div class=\"item\">\n<img src=\"media/1578785920077.jpg\" alt=\"Stratum 5: Eucalyptus\">\n<div class=\"carousel-caption\">Stratum 5: Eucalyptus<\/div>\n<\/div>\n<\/div>\n\n<!-- Controls -->\n<a class=\"left carousel-control\"\nhref=\"#carousel-photos\" role=\"button\" data-slide=\"prev\">\n<span class=\"glyphicon glyphicon-chevron-left\" aria-hidden=\"true\"><\/span>\n<span class=\"sr-only\">Previous<\/span>\n<\/a>\n<a class=\"right carousel-control\"\nhref=\"#carousel-photos\" role=\"button\" data-slide=\"next\">\n<span class=\"glyphicon glyphicon-chevron-right\" aria-hidden=\"true\"><\/span>\n<span class=\"sr-only\">Next<\/span>\n<\/a>\n<\/div>\n\n<h5>Additional observations<\/h5>\n<div>0 grass trees<\/div>\n<div>2 hollow logs<\/div>\n<div>21 standing trees &gt;20cm<\/div>\n<div>5\nstanding trees with hollows<\/div>\n<div>Litter leaf depth 3cm<\/div>\n<div>Avg gap between unburnt patches: 25m<\/div>\n<div>Evidence of native fauna: widespread<\/div>\n<div>Evidence of feral fauna: localised<\/div>","<h3>Test01<\/h3><h4>GeoCBI 0.96<\/h4>\nSurvey start 2020-01-08 21:08:25<\/br>\nReporter Burn Grading Data Collector<\/br>\nDevice 351848090572014<\/br>\n<div>Burn homogeneous throughout plot: yes<\/div>\n\n<div id=\"carousel-photos\" class=\"carousel slide\" data-ride=\"carousel\">\n\n<!-- Indicators -->\n<ol class=\"carousel-indicators\">\n<li data-target=\"#carousel-photos\" data-slide-to=\"0\" class=\"active\"><\/li>\n<li data-target=\"#carousel-photos\" data-slide-to=\"1\"><\/li>\n<li data-target=\"#carousel-photos\" data-slide-to=\"2\"><\/li>\n<li data-target=\"#carousel-photos\" data-slide-to=\"3\"><\/li>\n<li data-target=\"#carousel-photos\" data-slide-to=\"4\"><\/li>\n<li data-target=\"#carousel-photos\" data-slide-to=\"5\"><\/li>\n<\/ol>\n\n<!-- Wrapper for slides -->\n<div class=\"carousel-inner\" role=\"listbox\">\n<div class=\"item active\">\n<img src=\"media/1578488994992.jpg\" alt=\"Plot overview\">\n<div class=\"carousel-caption\">Plot overview<\/div>\n<\/div>\n<div class=\"item\">\n<img src=\"media/1578489033729.jpg\" alt=\"Stratum 1\">\n<div class=\"carousel-caption\">Stratum 1<\/div>\n<\/div>\n<div class=\"item\">\n<img src=\"media/1578489072292.jpg\" alt=\"Stratum 2: Pear cider\">\n<div class=\"carousel-caption\">Stratum 2: Pear cider<\/div>\n<\/div>\n<div class=\"item\">\n<img src=\"media/1578489127335.jpg\" alt=\"Stratum 3: Brain revitaliser\">\n<div class=\"carousel-caption\">Stratum 3: Brain revitaliser<\/div>\n<\/div>\n<div class=\"item\">\n<img src=\"media/1578489161012.jpg\" alt=\"Stratum 4: Bluetooth speaker\">\n<div class=\"carousel-caption\">Stratum 4: Bluetooth speaker<\/div>\n<\/div>\n<div class=\"item\">\n<img src=\"media/1578489206390.jpg\" alt=\"Stratum 5: Mango\">\n<div class=\"carousel-caption\">Stratum 5: Mango<\/div>\n<\/div>\n<\/div>\n\n<!-- Controls -->\n<a class=\"left carousel-control\"\nhref=\"#carousel-photos\" role=\"button\" data-slide=\"prev\">\n<span class=\"glyphicon glyphicon-chevron-left\" aria-hidden=\"true\"><\/span>\n<span class=\"sr-only\">Previous<\/span>\n<\/a>\n<a class=\"right carousel-control\"\nhref=\"#carousel-photos\" role=\"button\" data-slide=\"next\">\n<span class=\"glyphicon glyphicon-chevron-right\" aria-hidden=\"true\"><\/span>\n<span class=\"sr-only\">Next<\/span>\n<\/a>\n<\/div>\n\n<h5>Additional observations<\/h5>\n<div>12 grass trees<\/div>\n<div>13 hollow logs<\/div>\n<div>14 standing trees &gt;20cm<\/div>\n<div>150\nstanding trees with hollows<\/div>\n<div>Litter leaf depth 25cm<\/div>\n<div>Avg gap between unburnt patches: 3m<\/div>\n<div>Evidence of native fauna: localised<\/div>\n<div>Evidence of feral fauna: lots<\/div>"],null,{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,["[1.23] Test Random 2020-01-12 07:31:30","[0.96] Test01 2020-01-08 21:08:25"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLayersControl","args":[["Aerial","Place names"],[],{"collapsed":false,"autoZIndex":true,"position":"topright"}]}],"limits":{"lat":[-32.03861295,-32.03785343],"lng":[115.78227732,115.7860983]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="table" class="section level3">
<h3 class="hasAnchor">
<a href="#table" class="anchor"></a>Table</h3>
<p>Each row expands to show details.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">bg_geocbi <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/reactable_burngrading.html">reactable_burngrading</a></span>()</a></code></pre></div>
<div id="htmlwidget-94c66b0a5a0066289021" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-94c66b0a5a0066289021">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"id":["uuid:1c1d8ba4-a065-4819-8ba8-68ec675c3bf5","uuid:33f162cd-04a0-4707-b228-eaa0b4177add"],"observation_start_time":["2020-01-12T07:31:30","2020-01-08T21:08:25"],"reporter":["Burn Grading Data Collector","Burn Grading Data Collector"],"device_id":["351848090572014","351848090572014"],"observation_end_time":["2020-01-12T07:39:36","2020-01-08T21:13:59"],"submission_date":["2020-01-11T23:39:49.783Z","2020-01-08T13:14:36.038Z"],"submitter_id":["70","70"],"submitter_name":["Fire","Fire"],"instance_id":["uuid:1c1d8ba4-a065-4819-8ba8-68ec675c3bf5","uuid:33f162cd-04a0-4707-b228-eaa0b4177add"],"location_longitude":[115.78227732,115.7860983],"location_latitude":[-32.03861295,-32.03785343],"location_altitude":[-30,-11],"plot_photo":[["media/1578785576392.jpg"],["media/1578488994992.jpg"]],"plot_name":["Test Random","Test01"],"homogeneous_burn_severity":["no","yes"],"s1_fcov_post_fire_leaf_fall":["2.0_30-20","1.0_70-50"],"s1_area_unburnt":["1.0_one-large-patch","1.0_one-large-patch"],"s1_duff":["0.5_light-char","0.5_light-char"],"s1_coarse_fuel":["2.5_some-logs-burnt-away","1.5_moderate-char"],"s1_photo":[["media/1578785648115.jpg"],["media/1578489033729.jpg"]],"s2_dominant_vegetation":["Sprouts","Pear cider"],"s2_fcov":["0.25","0.25"],"s2_area_unburnt":["2.5_one-small-patch","0.5_more-than-one-large-patch"],"s2_grass_trees_with_skirts":["na_none_present","0.5_90-75"],"s2_unburnt_shrub_density":["2.0_sparse-gt1.5m-gaps","0.5_medium-dense"],"s2_fcov_regenerating_plants":["1.5_50-25","2.0_25-10"],"s2_photo":[["media/1578785727152.jpg"],["media/1578489072292.jpg"]],"s3_dominant_vegetation":["Test sp","Brain revitaliser"],"s3_fcov":["0.25","0.25"],"s3_fcov_original_crown_intact":["0.0_100-90","0.5_90-75"],"s3_density_bare_shrubs":["0.5_occasional","1.0_sparse"],"s3_photo":[["media/1578785808711.jpg"],["media/1578489127335.jpg"]],"s4_dominant_vegetation":["Mulberry","Bluetooth speaker"],"s4_fcov":["0.25","0.25"],"s4_avg_tree_height_m":[6,2],"s4_fcov_original_crown_intact":["2.0_25-10","1.5_50-25"],"s4_resprouting_on_live_trees":["0.5_fine-branches","2.0_lower-stem"],"s4_char_height":["0.0_None","0.5_25-0"],"s4_photo":[["media/1578785863925.jpg"],["media/1578489161012.jpg"]],"s5_dominant_vegetation":["Eucalyptus","Mango"],"s5_fcov":["0.50_50-25","0.25"],"s5_avg_tree_height_m":[20,50],"s5_fcov_original_crown_intact":["0.0_100-90","0.5_90-75"],"s5_no_trees_over_20cm_fallen":["0.0_0","0.5_1"],"s5_resprouting_on_live_trees":["1.5_upper-stem","1.0_large-branches"],"s5_char_height":["2.5_75-50","1.0_50-25"],"s5_photo":[["media/1578785920077.jpg"],["media/1578489206390.jpg"]],"no_grass_trees":[0,12],"no_hollow_logs":[2,13],"no_standing_trees_gt20cm":[21,14],"no_standing_trees_with_hollows":[5,150],"depth_leaf_litter_cm":[3,25],"avg_gap_between_unburnt_patches":[25,3],"evidence_of_native_fauna":["widespread","localised"],"evidence_of_feral_fauna":["localised","lots"],"odata_context":["https://odkcentral.dbca.wa.gov.au/v1/projects/27/forms/build_Burn-Grading-0-1_1578487677.svc/$metadata#Submissions","https://odkcentral.dbca.wa.gov.au/v1/projects/27/forms/build_Burn-Grading-0-1_1578487677.svc/$metadata#Submissions"],"geocbi":[1.23148148148148,0.963541666666667]},"columns":[{"accessor":".details","name":"","type":"NULL","sortable":false,"filterable":false,"width":45,"align":"center","details":[{"name":"div","attribs":{},"children":[{"name":"img","attribs":{"width":"200px;","alt":"Plot photo","src":["media/1578785576392.jpg"]},"children":[]},{"name":"img","attribs":{"width":"200px;","alt":"Stratum 1 photo","src":["media/1578785648115.jpg"]},"children":[]},{"name":"img","attribs":{"width":"200px;","alt":"Stratum 2 photo","src":["media/1578785727152.jpg"]},"children":[]},{"name":"img","attribs":{"width":"200px;","alt":"Stratum 3 photo","src":["media/1578785808711.jpg"]},"children":[]},{"name":"img","attribs":{"width":"200px;","alt":"Stratum 4 photo","src":["media/1578785863925.jpg"]},"children":[]},{"name":"img","attribs":{"width":"200px;","alt":"Stratum 5 photo","src":["media/1578785920077.jpg"]},"children":[]}]},{"name":"div","attribs":{},"children":[{"name":"img","attribs":{"width":"200px;","alt":"Plot photo","src":["media/1578488994992.jpg"]},"children":[]},{"name":"img","attribs":{"width":"200px;","alt":"Stratum 1 photo","src":["media/1578489033729.jpg"]},"children":[]},{"name":"img","attribs":{"width":"200px;","alt":"Stratum 2 photo","src":["media/1578489072292.jpg"]},"children":[]},{"name":"img","attribs":{"width":"200px;","alt":"Stratum 3 photo","src":["media/1578489127335.jpg"]},"children":[]},{"name":"img","attribs":{"width":"200px;","alt":"Stratum 4 photo","src":["media/1578489161012.jpg"]},"children":[]},{"name":"img","attribs":{"width":"200px;","alt":"Stratum 5 photo","src":["media/1578489206390.jpg"]},"children":[]}]}]},{"accessor":"id","name":"id","type":"character"},{"accessor":"observation_start_time","name":"observation_start_time","type":"Date"},{"accessor":"reporter","name":"reporter","type":"character"},{"accessor":"device_id","name":"device_id","type":"character"},{"accessor":"observation_end_time","name":"observation_end_time","type":"Date"},{"accessor":"submission_date","name":"submission_date","type":"character"},{"accessor":"submitter_id","name":"submitter_id","type":"character"},{"accessor":"submitter_name","name":"submitter_name","type":"character"},{"accessor":"instance_id","name":"instance_id","type":"character"},{"accessor":"location_longitude","name":"location_longitude","type":"numeric"},{"accessor":"location_latitude","name":"location_latitude","type":"numeric"},{"accessor":"location_altitude","name":"location_altitude","type":"numeric"},{"accessor":"plot_photo","name":"plot_photo","type":"list"},{"accessor":"plot_name","name":"plot_name","type":"character"},{"accessor":"homogeneous_burn_severity","name":"homogeneous_burn_severity","type":"character"},{"accessor":"s1_fcov_post_fire_leaf_fall","name":"s1_fcov_post_fire_leaf_fall","type":"character"},{"accessor":"s1_area_unburnt","name":"s1_area_unburnt","type":"character"},{"accessor":"s1_duff","name":"s1_duff","type":"character"},{"accessor":"s1_coarse_fuel","name":"s1_coarse_fuel","type":"character"},{"accessor":"s1_photo","name":"s1_photo","type":"list"},{"accessor":"s2_dominant_vegetation","name":"s2_dominant_vegetation","type":"character"},{"accessor":"s2_fcov","name":"s2_fcov","type":"character"},{"accessor":"s2_area_unburnt","name":"s2_area_unburnt","type":"character"},{"accessor":"s2_grass_trees_with_skirts","name":"s2_grass_trees_with_skirts","type":"character"},{"accessor":"s2_unburnt_shrub_density","name":"s2_unburnt_shrub_density","type":"character"},{"accessor":"s2_fcov_regenerating_plants","name":"s2_fcov_regenerating_plants","type":"character"},{"accessor":"s2_photo","name":"s2_photo","type":"list"},{"accessor":"s3_dominant_vegetation","name":"s3_dominant_vegetation","type":"character"},{"accessor":"s3_fcov","name":"s3_fcov","type":"character"},{"accessor":"s3_fcov_original_crown_intact","name":"s3_fcov_original_crown_intact","type":"character"},{"accessor":"s3_density_bare_shrubs","name":"s3_density_bare_shrubs","type":"character"},{"accessor":"s3_photo","name":"s3_photo","type":"list"},{"accessor":"s4_dominant_vegetation","name":"s4_dominant_vegetation","type":"character"},{"accessor":"s4_fcov","name":"s4_fcov","type":"character"},{"accessor":"s4_avg_tree_height_m","name":"s4_avg_tree_height_m","type":"numeric"},{"accessor":"s4_fcov_original_crown_intact","name":"s4_fcov_original_crown_intact","type":"character"},{"accessor":"s4_resprouting_on_live_trees","name":"s4_resprouting_on_live_trees","type":"character"},{"accessor":"s4_char_height","name":"s4_char_height","type":"character"},{"accessor":"s4_photo","name":"s4_photo","type":"list"},{"accessor":"s5_dominant_vegetation","name":"s5_dominant_vegetation","type":"character"},{"accessor":"s5_fcov","name":"s5_fcov","type":"character"},{"accessor":"s5_avg_tree_height_m","name":"s5_avg_tree_height_m","type":"numeric"},{"accessor":"s5_fcov_original_crown_intact","name":"s5_fcov_original_crown_intact","type":"character"},{"accessor":"s5_no_trees_over_20cm_fallen","name":"s5_no_trees_over_20cm_fallen","type":"character"},{"accessor":"s5_resprouting_on_live_trees","name":"s5_resprouting_on_live_trees","type":"character"},{"accessor":"s5_char_height","name":"s5_char_height","type":"character"},{"accessor":"s5_photo","name":"s5_photo","type":"list"},{"accessor":"no_grass_trees","name":"no_grass_trees","type":"numeric"},{"accessor":"no_hollow_logs","name":"no_hollow_logs","type":"numeric"},{"accessor":"no_standing_trees_gt20cm","name":"no_standing_trees_gt20cm","type":"numeric"},{"accessor":"no_standing_trees_with_hollows","name":"no_standing_trees_with_hollows","type":"numeric"},{"accessor":"depth_leaf_litter_cm","name":"depth_leaf_litter_cm","type":"numeric"},{"accessor":"avg_gap_between_unburnt_patches","name":"avg_gap_between_unburnt_patches","type":"numeric"},{"accessor":"evidence_of_native_fauna","name":"evidence_of_native_fauna","type":"character"},{"accessor":"evidence_of_feral_fauna","name":"evidence_of_feral_fauna","type":"character"},{"accessor":"odata_context","name":"odata_context","type":"character"},{"accessor":"geocbi","name":"geocbi","type":"numeric"}],"filterable":true,"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"8df4a53f3a1e503d4a2f4e2c694554e0"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="calibrate-dnbr" class="section level2">
<h2 class="hasAnchor">
<a href="#calibrate-dnbr" class="anchor"></a>Calibrate dNBR</h2>
<p><strong>Note</strong> This section is pending review and refinement. Currently, this is a manual process happening outside of R. We could imagine to integrate that process into this package as follows.</p>
<ul>
<li>Get Landsat/Sentinel imagery pre and post burn: <a href="https://docs.ropensci.org/getlandsat/">ropenSci/getlandsat</a>
</li>
<li>Calculate NBR for each pre and post burn scene as <span class="math inline">\((NIR - SWIR) / (NIR + SWIR)\)</span> see e.g. <a href="https://www.earthdatascience.org/courses/earth-analytics/multispectral-remote-sensing-data/landsat-data-in-r-geotiff/">tutorial at earthdatascience.org</a>
</li>
<li>Calculate <span class="math inline">\(dNBR = NBR_{post} / NBR_{pre}\)</span>
</li>
<li>Annotate each burn grading ground truthing location with the dNBR at that site</li>
<li>Model <span class="math inline">\(GeoCBI = lm(dNBR)\)</span>
</li>
<li>Predict modelled GeoCBI for other sites</li>
</ul>
</div>
<div id="publish" class="section level2">
<h2 class="hasAnchor">
<a href="#publish" class="anchor"></a>Publish</h2>
<p>Options:</p>
<ul>
<li>Upload results to CKAN data catalogue to share with DBCA colleagues.</li>
<li>Upload results to Google Drive folder to share with external collaborators.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#request-an-odk-central-account">Request an ODK Central account</a></li>
      <li><a href="#setup-ruodk">Setup ruODK</a></li>
      <li><a href="#download-data">Download data</a></li>
      <li><a href="#calculate-geocbi">Calculate GeoCBI</a></li>
      <li><a href="#visualise">Visualise</a></li>
      <li><a href="#calibrate-dnbr">Calibrate dNBR</a></li>
      <li><a href="#publish">Publish</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Florian Mayer, Valerie Densmore, <a href="https://www.dbca.wa.gov.au/science/"><img src="man/figures/dbca_bcs.png" width="150" alt="DBCA"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
